function e(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var t;t=module.exports,Object.defineProperty(t,"__esModule",{value:!0,configurable:!0}),e(module.exports,"Settings",(()=>d)),e(module.exports,"default",(()=>h)),e(module.exports,"BeforeEach",(()=>a)),e(module.exports,"BeforeEnter",(()=>n)),e(module.exports,"BeforeUpdate",(()=>u));class r{constructor(e,t){this.request=e,this.next=t}async handle(){const e=this.chain();for(let t of e){const e=await this.run(t);if(void 0!==e)return this.next(e)}return this.next()}run(e){return new Promise((t=>{e(this.request.to,this.request.from,t)}))}chain(){const e=new Set;for(let t of this.request.to.matched)t.meta.hasOwnProperty(d.guard)&&t.meta[d.guard].forEach(Set.prototype.add,e);return Array.from(e)}}var o=(e,t,o)=>{new r({to:e,from:t},o).handle()},a=e=>(t,r,o)=>{e(t,r,o)},n=e=>{let t=null;const r=(o,a,n)=>{let u=!1;if(t&&t.from.path===a.path&&t.to.matched[t.to.matched.length-1].path!==o.matched[o.matched.length-1].path&&(u=!0),t=u?null:{to:o,from:a},u)return n();for(let e in a.matched)if(a.matched[e].meta.hasOwnProperty(d.guard)&&a.matched[e].meta[d.guard].includes(r)&&a.matched[e]===o.matched[e])return n();e(o,a,n)};return r},u=e=>{const t=(r,o,a)=>{for(let n in o.matched)if(o.matched[n].meta.hasOwnProperty(d.guard)&&o.matched[n].meta[d.guard].includes(t)&&o.matched[n]===r.matched[n])return e(r,o,a);a()};return t};const d={guard:"guard"};function h(e,t){if(!0!==Boolean(t)||!0!==t.hasOwnProperty("router"))throw new Error("A Vue Router instance must be given to vue-router-shield");t.hasOwnProperty("guard")&&(d.guard=t.guard),t.router.beforeEach(o)}
//# sourceMappingURL=index.cjs.js.map
